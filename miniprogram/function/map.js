"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tab_1 = require("../utils/tab");
var _a = getApp(), a = _a.globalData, _b = _a.lib, $register = _b.$register, $page = _b.$page;
var includePoint1 = {
    padding: [30, 20, 30, 20],
    points: [
        { latitude: 43.8578480844, longitude: 125.3252720833 },
        { latitude: 43.8633404949, longitude: 125.3379964828 }
    ]
};
var includePoint2 = {
    padding: [30, 20, 30, 20],
    points: [
        { latitude: 43.8256570334, longitude: 125.4175829887 },
        { latitude: 43.8247281876, longitude: 125.4359936714 }
    ]
};
$register('map', {
    data: {
        nm: a.nm,
        map: {
            latitude: 43.862007982140646,
            longitude: 125.33405307523934,
            scale: 17
        },
        list: false,
        pointDisplay: false,
        closeTop: -31,
        selectBottom: 0,
        selectItem: 'all',
        category: [
            ['全部', 'all'],
            ['校门', 'gate'],
            ['学院', 'school'],
            ['建筑', 'buildings'],
            ['寝室', 'dormitory'],
            ['设施', 'facility'],
            ['运动场', 'sportsField'],
            ['风景', 'scenery']
        ]
    },
    onNavigate: function () {
        console.log('将要跳转Map');
        tab_1.default.markerSet();
        a.marker = this.getMarker();
    },
    onLoad: function () {
        var _this = this;
        wx.showLoading({ title: '加载中...' });
        tab_1.default.markerSet();
        var _a = a.marker ? a.marker : this.getMarker(), mapSwitch = _a.mapSwitch, markers = _a.markers;
        delete a.marker;
        this.setData({
            mapSwitch: mapSwitch,
            markers: markers,
            info: a.info,
            mapStyle: a.nm ? '46NBZ-EJ6C4-4REUO-XR7ZR-CWLG5-T3BDA' : 'PZGBZ-74N6F-KVYJ5-NRJDH-Y3NUT-IKFLF',
            nm: a.nm
        });
        this.mapCtx = wx.createMapContext('schoolMap');
        this.mapCtx.includePoints(mapSwitch ? includePoint1 : includePoint2);
        setTimeout(function () {
            _this.mapCtx.getScale({
                success: function (r1) {
                    _this.mapCtx.getCenterLocation({
                        success: function (r2) {
                            _this.setData({ map: { scale: r1.scale, latitude: r2.latitude, longitude: r2.longitude } });
                        }
                    });
                }
            });
            wx.hideLoading();
        }, 500);
        $page.Notice('map');
    },
    onShow: function () {
        var _a = $page.color(false), nc = _a[0], bc = _a[1];
        wx.setNavigationBarColor(nc);
        wx.setBackgroundColor(bc);
    },
    onReady: function () {
        var _this = this;
        wx.createSelectorQuery().select('#mapTab')
            .boundingClientRect(function (rect) {
            _this.setData({ tabHeight: rect.height });
        })
            .exec();
    },
    getMarker: function () {
        var value = wx.getStorageSync('mapSwitch');
        var mapSwitch = value || value === false ? value : (wx.setStorageSync('mapSwitch', true), true);
        var markers = wx.getStorageSync(mapSwitch ? 'benbu-all' : 'jingyue-all');
        return { mapSwitch: mapSwitch, markers: markers };
    },
    Switch: function () {
        var _this = this;
        var temp = !this.data.mapSwitch;
        var markers = wx.getStorageSync(temp ? 'benbu-all' : 'jingyue-all');
        this.setData({
            mapSwitch: temp,
            markers: markers
        });
        this.mapCtx = wx.createMapContext('schoolMap');
        this.mapCtx.includePoints(temp ? includePoint1 : includePoint2);
        setTimeout(function () {
            _this.mapCtx.getScale({
                success: function (r1) {
                    _this.mapCtx.getCenterLocation({
                        success: function (r2) {
                            _this.setData({ map: { scale: r1.scale, latitude: r2.latitude, longitude: r2.longitude } });
                        }
                    });
                }
            });
        }, 500);
        wx.setStorageSync('mapSwitch', temp);
    },
    scale: function (e) {
        var _this = this;
        this.mapCtx.getCenterLocation({
            success: function (r2) {
                _this.setData({
                    map: {
                        scale: _this.data.map.scale + (e.currentTarget.dataset.action === 'enlarge' ? 1 : -1),
                        latitude: r2.latitude, longitude: r2.longitude
                    }
                });
            }
        });
    },
    moveToLocation: function () {
        this.mapCtx.moveToLocation();
    },
    point: function () {
        var _this = this;
        if (this.data.pointDisplay) {
            this.setData({ pointDisplay: !this.data.pointDisplay });
            setTimeout(function () {
                _this.setData({ selectBottom: a.info.screenHeight / a.info.screenWidth * 750 });
            }, 500);
        }
        else
            this.setData({
                pointDisplay: !this.data.pointDisplay,
                selectBottom: 190
            });
    },
    select: function (e) {
        var name = this.data.mapSwitch ? 'benbu' : 'jingyue';
        var current = e.target.dataset.category;
        var markers = wx.getStorageSync(name + "-" + current);
        this.setData({ markers: markers, selectItem: current });
        this.mapCtx.includePoints({ padding: [30, 20, 30, 20], points: markers });
    },
    markers: function (e) {
        var mapSwitch = this.data.mapSwitch;
        var xiaoqu = mapSwitch ? 'benbu' : 'jingyue';
        if (e.type === 'markertap')
            this.$preload("situs?xiaoqu=" + xiaoqu + "&aim=" + (xiaoqu + e.markerId));
        else if (e.type === 'callouttap')
            this.$route("/function/situs?xiaoqu=" + xiaoqu + "&aim=" + (xiaoqu + e.markerId));
    },
    showList: function () {
        var _this = this;
        if (this.data.list) {
            this.setData({ list: !this.data.list });
            setTimeout(function () {
                _this.setData({ closeTop: -31 });
            }, 500);
        }
        else
            this.setData({
                list: !this.data.list,
                closeTop: a.info.statusBarHeight + 5.5
            });
    },
    back: function () {
        wx.navigateBack({});
    },
    regionChange: function (e) {
        console.log('regionChange', e);
    },
    update: function (e) {
        console.log('update', e);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0Esb0NBQWdDO0FBQzFCLElBQUEsYUFBdUQsRUFBckQsaUJBQWEsRUFBRSxXQUF5QixFQUFsQix3QkFBUyxFQUFFLGdCQUFvQixDQUFDO0FBRTlELElBQU0sYUFBYSxHQUFHO0lBQ3BCLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN6QixNQUFNLEVBQUU7UUFDTixFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRTtRQUN0RCxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRTtLQUN2RDtDQUNGLENBQUM7QUFDRixJQUFNLGFBQWEsR0FBRztJQUNwQixPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDekIsTUFBTSxFQUFFO1FBQ04sRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUU7UUFDdEQsRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUU7S0FDdkQ7Q0FDRixDQUFDO0FBRUYsU0FBUyxDQUFDLEtBQUssRUFBRTtJQUNmLElBQUksRUFBRTtRQUNKLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRTtRQUNSLEdBQUcsRUFBRTtZQUNILFFBQVEsRUFBRSxrQkFBa0I7WUFDNUIsU0FBUyxFQUFFLGtCQUFrQjtZQUM3QixLQUFLLEVBQUUsRUFBRTtTQUNWO1FBQ0QsSUFBSSxFQUFFLEtBQUs7UUFDWCxZQUFZLEVBQUUsS0FBSztRQUNuQixRQUFRLEVBQUUsQ0FBQyxFQUFFO1FBQ2IsWUFBWSxFQUFFLENBQUM7UUFDZixVQUFVLEVBQUUsS0FBSztRQUNqQixRQUFRLEVBQUU7WUFDUixDQUFDLElBQUksRUFBRSxL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b250ZW50IjpbIi8qXG4gKiBAQXV0aG9yOiBNci5Ib3BlXG4gKiBARGF0ZTogMjAxOS0wNi0yNCAyMToxMjoxM1xuICogQExhc3RFZGl0b3JzOiBNci5Ib3BlXG4gKiBATGFzdEVkaXRUaW1lOiAyMDE5LTA2LTI0IDIxOjE2OjM3XG4gKiBARGVzY3JpcHRpb246IOWcsOWbvlxuICovXG5pbXBvcnQgJHRhYiBmcm9tICcuLi91dGlscy90YWInO1xuY29uc3QgeyBnbG9iYWxEYXRhOiBhLCBsaWI6IHsgJHJlZ2lzdGVyLCAkcGFnZSB9IH0gPSBnZXRBcHAoKTtcblxuY29uc3QgaW5jbHVkZVBvaW50MSA9IHtcbiAgcGFkZGluZzogWzMwLCAyMCwgMzAsIDIwXSxcbiAgcG9pbnRzOiBbXG4gICAgeyBsYXRpdHVkZTogNDMuODU3ODQ4MDg0NCwgbG9uZ2l0dWRlOiAxMjUuMzI1MjcyMDgzMyB9LFxuICAgIHsgbGF0aXR1ZGU6IDQzLjg2MzM0MDQ5NDksIGxvbmdpdHVkZTogMTI1LjMzNzk5NjQ4MjggfVxuICBdXG59O1xuY29uc3QgaW5jbHVkZVBvaW50MiA9IHtcbiAgcGFkZGluZzogWzMwLCAyMCwgMzAsIDIwXSxcbiAgcG9pbnRzOiBbXG4gICAgeyBsYXRpdHVkZTogNDMuODI1NjU3MDMzNCwgbG9uZ2l0dWRlOiAxMjUuNDE3NTgyOTg4NyB9LFxuICAgIHsgbGF0aXR1ZGU6IDQzLjgyNDcyODE4NzYsIGxvbmdpdHVkZTogMTI1LjQzNTk5MzY3MTQgfVxuICBdXG59O1xuXG4kcmVnaXN0ZXIoJ21hcCcsIHtcbiAgZGF0YToge1xuICAgIG5tOiBhLm5tLFxuICAgIG1hcDoge1xuICAgICAgbGF0aXR1ZGU6IDQzLjg2MjAwNzk4MjE0MDY0NixcbiAgICAgIGxvbmdpdHVkZTogMTI1LjMzNDA1MzA3NTIzOTM0LFxuICAgICAgc2NhbGU6IDE3XG4gICAgfSxcbiAgICBsaXN0OiBmYWxzZSxcbiAgICBwb2ludERpc3BsYXk6IGZhbHNlLFxuICAgIGNsb3NlVG9wOiAtMzEsXG4gICAgc2VsZWN0Qm90dG9tOiAwLFxuICAgIHNlbGVjdEl0ZW06ICdhbGwnLFxuICAgIGNhdGVnb3J5OiBbXG4gICAgICBbJ+WFqOmDqCcsICdhbGwnXSxcbiAgICAgIFsn5qCh6ZeoJywgJ2dhdGUnXSxcbiAgICAgIFsn5a2m6ZmiJywgJ3NjaG9vbCddLFxuICAgICAgWyflu7rnrZEnLCAnYnVpbGRpbmdzJ10sXG4gICAgICBbJ+WvneWupCcsICdkb3JtaXRvcnknXSxcbiAgICAgIFsn6K6+5pa9JywgJ2ZhY2lsaXR5J10sXG4gICAgICBbJ+i/kOWKqOWcuicsICdzcG9ydHNGaWVsZCddLFxuICAgICAgWyfpo47mma8nLCAnc2NlbmVyeSddXG4gICAgXVxuICB9LFxuICBvbk5hdmlnYXRlKCkge1xuICAgIGNvbnNvbGUubG9nKCflsIbopoHot7PovaxNYXAnKTtcbiAgICAkdGFiLm1hcmtlclNldCgpO1xuICAgIGEubWFya2VyID0gdGhpcy5nZXRNYXJrZXIoKTtcbiAgfSxcbiAgb25Mb2FkKCkge1xuICAgIHd4LnNob3dMb2FkaW5nKHsgdGl0bGU6ICfliqDovb3kuK0uLi4nIH0pO1xuXG4gICAgJHRhYi5tYXJrZXJTZXQoKTtcblxuICAgIGNvbnN0IHsgbWFwU3dpdGNoLCBtYXJrZXJzIH0gPSBhLm1hcmtlciA/IGEubWFya2VyIDogdGhpcy5nZXRNYXJrZXIoKTtcblxuICAgIGRlbGV0ZSBhLm1hcmtlcjtcblxuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBtYXBTd2l0Y2gsXG4gICAgICBtYXJrZXJzLFxuICAgICAgaW5mbzogYS5pbmZvLFxuICAgICAgbWFwU3R5bGU6IGEubm0gPyAnNDZOQlotRUo2QzQtNFJFVU8tWFI3WlItQ1dMRzUtVDNCREEnIDogJ1BaR0JaLTc0TjZGLUtWWUo1LU5SSkRILVkzTlVULUlLRkxGJyxcbiAgICAgIG5tOiBhLm5tXG4gICAgfSk7XG4gICAgdGhpcy5tYXBDdHggPSB3eC5jcmVhdGVNYXBDb250ZXh0KCdzY2hvb2xNYXAnKTtcbiAgICB0aGlzLm1hcEN0eC5pbmNsdWRlUG9pbnRzKG1hcFN3aXRjaCA/IGluY2x1ZGVQb2ludDEgOiBpbmNsdWRlUG9pbnQyKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMubWFwQ3R4LmdldFNjYWxlKHtcbiAgICAgICAgc3VjY2VzczogKHIxOiBhbnkpID0+IHtcbiAgICAgICAgICB0aGlzLm1hcEN0eC5nZXRDZW50ZXJMb2NhdGlvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiAocjI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldERhdGEoeyBtYXA6IHsgc2NhbGU6IHIxLnNjYWxlLCBsYXRpdHVkZTogcjIubGF0aXR1ZGUsIGxvbmdpdHVkZTogcjIubG9uZ2l0dWRlIH0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd3guaGlkZUxvYWRpbmcoKTtcbiAgICB9LCA1MDApO1xuXG4gICAgLy8g5by55Ye66YCa55+lXG4gICAgJHBhZ2UuTm90aWNlKCdtYXAnKTtcbiAgfSxcbiAgb25TaG93KCkge1xuICAgIC8vIOiuvue9ruiDtuWbiuWSjOiDjOaZr+minOiJslxuICAgIGNvbnN0IFtuYywgYmNdID0gJHBhZ2UuY29sb3IoZmFsc2UpO1xuXG4gICAgd3guc2V0TmF2aWdhdGlvbkJhckNvbG9yKG5jKTtcbiAgICB3eC5zZXRCYWNrZ3JvdW5kQ29sb3IoYmMpO1xuICB9LFxuICBvblJlYWR5KCkge1xuICAgIC8vIOiuvue9rnRhYlxuICAgIHd4LmNyZWF0ZVNlbGVjdG9yUXVlcnkoKS5zZWxlY3QoJyNtYXBUYWInKVxuICAgICAgLmJvdW5kaW5nQ2xpZW50UmVjdChyZWN0ID0+IHtcbiAgICAgICAgdGhpcy5zZXREYXRhKHsgdGFiSGVpZ2h0OiByZWN0LmhlaWdodCB9KTtcbiAgICAgIH0pXG4gICAgICAuZXhlYygpO1xuICB9LFxuICBnZXRNYXJrZXIoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB3eC5nZXRTdG9yYWdlU3luYygnbWFwU3dpdGNoJyk7XG4gICAgY29uc3QgbWFwU3dpdGNoID0gdmFsdWUgfHwgdmFsdWUgPT09IGZhbHNlID8gdmFsdWUgOiAod3guc2V0U3RvcmFnZVN5bmMoJ21hcFN3aXRjaCcsIHRydWUpLCB0cnVlKTtcbiAgICBjb25zdCBtYXJrZXJzID0gd3guZ2V0U3RvcmFnZVN5bmMobWFwU3dpdGNoID8gJ2JlbmJ1LWFsbCcgOiAnamluZ3l1ZS1hbGwnKTtcblxuICAgIHJldHVybiB7IG1hcFN3aXRjaCwgbWFya2VycyB9O1xuICB9LFxuICBTd2l0Y2goKSB7XG4gICAgY29uc3QgdGVtcCA9ICF0aGlzLmRhdGEubWFwU3dpdGNoO1xuICAgIGNvbnN0IG1hcmtlcnMgPSB3eC5nZXRTdG9yYWdlU3luYyh0ZW1wID8gJ2JlbmJ1LWFsbCcgOiAnamluZ3l1ZS1hbGwnKTtcblxuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBtYXBTd2l0Y2g6IHRlbXAsXG4gICAgICBtYXJrZXJzXG4gICAgfSk7XG4gICAgdGhpcy5tYXBDdHggPSB3eC5jcmVhdGVNYXBDb250ZXh0KCdzY2hvb2xNYXAnKTtcbiAgICB0aGlzLm1hcEN0eC5pbmNsdWRlUG9pbnRzKHRlbXAgPyBpbmNsdWRlUG9pbnQxIDogaW5jbHVkZVBvaW50Mik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm1hcEN0eC5nZXRTY2FsZSh7XG4gICAgICAgIHN1Y2Nlc3M6IChyMTogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXBDdHguZ2V0Q2VudGVyTG9jYXRpb24oe1xuICAgICAgICAgICAgc3VjY2VzczogKHIyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKHsgbWFwOiB7IHNjYWxlOiByMS5zY2FsZSwgbGF0aXR1ZGU6IHIyLmxhdGl0dWRlLCBsb25naXR1ZGU6IHIyLmxvbmdpdHVkZSB9IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCA1MDApO1xuICAgIHd4LnNldFN0b3JhZ2VTeW5jKCdtYXBTd2l0Y2gnLCB0ZW1wKTtcbiAgfSxcbiAgc2NhbGUoZTogYW55KSB7XG4gICAgdGhpcy5tYXBDdHguZ2V0Q2VudGVyTG9jYXRpb24oe1xuICAgICAgc3VjY2VzczogKHIyOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIHNjYWxlOiB0aGlzLmRhdGEubWFwLnNjYWxlICsgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbiA9PT0gJ2VubGFyZ2UnID8gMSA6IC0xKSxcbiAgICAgICAgICAgIGxhdGl0dWRlOiByMi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiByMi5sb25naXR1ZGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBUaGlzLm1hcEN0eC5nZXRTY2FsZSh7XG4gICAgICogICBzdWNjZXNzKHIxKSB7XG4gICAgICogICAgIHRoYXQubWFwQ3R4LmdldENlbnRlckxvY2F0aW9uKHtcbiAgICAgKiAgICAgICBzdWNjZXNzKHIyKSB7XG4gICAgICogICAgICAgICB0aGF0LnNldERhdGEoe1xuICAgICAqICAgICAgICAgICBtYXA6IHtcbiAgICAgKiAgICAgICAgICAgICBzY2FsZTogcjEuc2NhbGUgKyAoZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uID09ICdlbmxhcmdlJyA/IDEgOiAtMSksXG4gICAgICogICAgICAgICAgICAgbGF0aXR1ZGU6IHIyLmxhdGl0dWRlLFxuICAgICAqICAgICAgICAgICAgIGxvbmdpdHVkZTogcjIubG9uZ2l0dWRlXG4gICAgICogICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfSk7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICovXG4gIH0sXG4gIG1vdmVUb0xvY2F0aW9uKCkge1xuICAgIHRoaXMubWFwQ3R4Lm1vdmVUb0xvY2F0aW9uKCk7XG4gIH0sXG4gIHBvaW50KCkge1xuICAgIGlmICh0aGlzLmRhdGEucG9pbnREaXNwbGF5KSB7XG4gICAgICB0aGlzLnNldERhdGEoeyBwb2ludERpc3BsYXk6ICF0aGlzLmRhdGEucG9pbnREaXNwbGF5IH0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7IHNlbGVjdEJvdHRvbTogYS5pbmZvLnNjcmVlbkhlaWdodCAvIGEuaW5mby5zY3JlZW5XaWR0aCAqIDc1MCB9KTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICBwb2ludERpc3BsYXk6ICF0aGlzLmRhdGEucG9pbnREaXNwbGF5LFxuICAgICAgICBzZWxlY3RCb3R0b206IDE5MFxuICAgICAgfSk7XG5cbiAgfSxcbiAgc2VsZWN0KGU6IGFueSkge1xuICAgIGNvbnN0IG5hbWUgPSB0aGlzLmRhdGEubWFwU3dpdGNoID8gJ2JlbmJ1JyA6ICdqaW5neXVlJztcbiAgICBjb25zdCBjdXJyZW50ID0gZS50YXJnZXQuZGF0YXNldC5jYXRlZ29yeTtcbiAgICBjb25zdCBtYXJrZXJzID0gd3guZ2V0U3RvcmFnZVN5bmMoYCR7bmFtZX0tJHtjdXJyZW50fWApO1xuXG4gICAgdGhpcy5zZXREYXRhKHsgbWFya2Vycywgc2VsZWN0SXRlbTogY3VycmVudCB9KTtcbiAgICB0aGlzLm1hcEN0eC5pbmNsdWRlUG9pbnRzKHsgcGFkZGluZzogWzMwLCAyMCwgMzAsIDIwXSwgcG9pbnRzOiBtYXJrZXJzIH0pO1xuICB9LFxuICBtYXJrZXJzKGU6IGFueSkge1xuICAgIGNvbnN0IHsgbWFwU3dpdGNoIH0gPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgeGlhb3F1ID0gbWFwU3dpdGNoID8gJ2JlbmJ1JyA6ICdqaW5neXVlJztcblxuICAgIGlmIChlLnR5cGUgPT09ICdtYXJrZXJ0YXAnKVxuICAgICAgdGhpcy4kcHJlbG9hZChgc2l0dXM/eGlhb3F1PSR7eGlhb3F1fSZhaW09JHt4aWFvcXUgKyBlLm1hcmtlcklkfWApO1xuICAgIGVsc2UgaWYgKGUudHlwZSA9PT0gJ2NhbGxvdXR0YXAnKVxuICAgICAgdGhpcy4kcm91dGUoYC9mdW5jdGlvbi9zaXR1cz94aWFvcXU9JHt4aWFvcXV9JmFpbT0ke3hpYW9xdSArIGUubWFya2VySWR9YCk7XG4gIH0sXG4gIHNob3dMaXN0KCkge1xuICAgIGlmICh0aGlzLmRhdGEubGlzdCkge1xuICAgICAgdGhpcy5zZXREYXRhKHsgbGlzdDogIXRoaXMuZGF0YS5saXN0IH0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7IGNsb3NlVG9wOiAtMzEgfSk7XG4gICAgICB9LCA1MDApO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgbGlzdDogIXRoaXMuZGF0YS5saXN0LFxuICAgICAgICBjbG9zZVRvcDogYS5pbmZvLnN0YXR1c0JhckhlaWdodCArIDUuNVxuICAgICAgfSk7XG5cbiAgfSxcbiAgYmFjaygpIHtcbiAgICB3eC5uYXZpZ2F0ZUJhY2soe30pO1xuICB9LFxuICByZWdpb25DaGFuZ2UoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ3JlZ2lvbkNoYW5nZScsIGUpO1xuICB9LFxuICB1cGRhdGUoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ3VwZGF0ZScsIGUpO1xuICB9XG5cbiAgLypcbiAgICogVXBkYXRlKCkge1xuICAgKiAgIGNvbnNvbGUubG9nKCd1cGRhdGUnKVxuICAgKiAgIHRoaXMubWFwQ3R4LmdldFNjYWxlKHtcbiAgICogICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgKiAgICAgICBjb25zb2xlLmxvZygnZ2V0IHNjYWxlJyk7XG4gICAqICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqICAgdGhpcy5tYXBDdHguZ2V0Q2VudGVyTG9jYXRpb24oe1xuICAgKiAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAqICAgICAgIGNvbnNvbGUubG9nKCdnZXRDZW50ZXJMb2NhdGlvbicpO1xuICAgKiAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKiB9LFxuICAgKiByZWdpb25DaGFuZ2UoZSkge1xuICAgKiBjb25zb2xlLmxvZygncmVnaW9uQ2hhbmdlJyk7XG4gICAqIGNvbnNvbGUubG9nKHRyaWdnZXIpXG4gICAqIGlmIChlLnR5cGUgPT0gJ2VuZCcgJiYgdHJpZ2dlcikge1xuICAgKiAgIGNvbnNvbGUubG9nKCdmdWN0aW9uaW5nJyk7XG4gICAqICAgdHJpZ2dlciA9IGZhbHNlO1xuICAgKiAgIGNvbnNvbGUubG9nKHRyaWdnZXIpO1xuICAgKiAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICogICAgIG1hcCA9IHRoaXMuZGF0YS5tYXA7XG4gICAqICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICogICAgIHRyaWdnZXIgPSB0cnVlO1xuICAgKiAgICAgY29uc29sZS5sb2coXCJ0cnVlXCIpXG4gICAqICAgICBjb25zb2xlLmxvZyh0cmlnZ2VyKVxuICAgKiAgIH0sIDUwMClcbiAgICogICB2YXIgcmVnaW9uQ2hhbmdlO1xuICAgKiAgIHRoaXMubWFwQ3R4LmdldFNjYWxlKHtcbiAgICogICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgKiAgICAgICBtYXAuc2NhbGUgPSByZXMuc2NhbGU7XG4gICAqICAgICAgIGNvbnNvbGUubG9nKCdzY2FsZScgKyByZXMuc2NhbGUpO1xuICAgKiAgICAgICByZWdpb25DaGFuZ2UgPSB0cnVlO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKiAgIHRoaXMubWFwQ3R4LmdldENlbnRlckxvY2F0aW9uKHtcbiAgICogICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgKiAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgKiAgICAgICBjb25zb2xlLmxvZygnZGlzdGFuY2UgaXMnICsgdS5nRChtYXAubGF0aXR1ZGUsIG1hcC5sb25naXR1ZGUsIHJlcy5sYXRpdHVkZSwgcmVzLmxvbmdpdHVkZSkpXG4gICAqICAgICAgIGlmIChyZWdpb25DaGFuZ2UgJiYgKHUuZ0QobWFwLmxhdGl0dWRlLCBtYXAubG9uZ2l0dWRlLCByZXMubGF0aXR1ZGUsIHJlcy5sb25naXR1ZGUpID4gMSkpIHtcbiAgICogICAgICAgICBtYXAubGF0aXR1ZGUgPSByZXMubGF0aXR1ZGU7XG4gICAqICAgICAgICAgbWFwLmxvbmdpdHVkZSA9IHJlcy5sb25naXR1ZGU7XG4gICAqICAgICAgICAgdGhhdC5zZXREYXRhKHtcbiAgICogICAgICAgICAgIG1hcDogbWFwXG4gICAqICAgICAgICAgfSk7XG4gICAqICAgICAgIH07XG4gICAqICAgICAgIHJlZ2lvbkNoYW5nZSA9IGZhbHNlO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIH0sXG4gICAqIHRyYW5zbGF0ZU1hcmtlcjogZnVuY3Rpb24oKSB7XG4gICAqICAgdGhpcy5tYXBDdHgudHJhbnNsYXRlTWFya2VyKHtcbiAgICogICAgIG1hcmtlcklkOiAwLFxuICAgKiAgICAgYXV0b1JvdGF0ZTogdHJ1ZSxcbiAgICogICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgKiAgICAgZGVzdGluYXRpb246IHtcbiAgICogICAgICAgbGF0aXR1ZGU6IDIzLjEwMjI5LFxuICAgKiAgICAgICBsb25naXR1ZGU6IDExMy4zMzQ1MjExLFxuICAgKiAgICAgfSxcbiAgICogICAgIGFuaW1hdGlvbkVuZCgpIHtcbiAgICogICAgICAgY29uc29sZS5sb2coJ2FuaW1hdGlvbiBlbmQnKVxuICAgKiAgICAgfVxuICAgKiAgIH0pXG4gICAqIH0sXG4gICAqL1xuICAvKlxuICAgKiBSZWdpb25DaGFuZ2UoKSB7IH0sXG4gICAqIHVwZGF0ZSgpIHsgfVxuICAgKi9cbn0pO1xuIl19