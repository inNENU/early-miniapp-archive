<map wx:if="{{nm}}" subkey="YNUBZ-AN3HF-P62JK-J2GND-XQTQQ-TTBOB" id="schoolMap" class="schoolMap" style="width:100%;height:100%;" longitude="{{map.longitude}}" latitude="{{map.latitude}}" scale="{{map.scale}}" show-location markers="{{markers}}" bind:markertap="markers" bind:callouttap="markers" bind:updated="update" bind:regionchange="regionChange" enable-3D enable-scroll enable-rotate show-compass enable-overlooking enable-zoom>
  <cover-view class="backBtn" style="top:{{info.statusBarHeight+5}}px;z-index:97;" hover-class="buttonHover" catch:tap="back">
    <cover-image class="backIcon" src="/icon/back{{a.nm?'':'Black'}}.png" />
  </cover-view>
  <cover-view class="selectCtn {{pointDisplay?'fadeIn':'fadeOut'}}" style="bottom:{{selectBottom}}rpx;z-index:96;" catch:tap="select">
    <cover-view wx:for="{{category}}" wx:key="{{item[0]}}" class="selectBtn {{selectItem==item[1]?'active':''}}" hover-class="pressHover" data-category="{{item[1]}}">
      <cover-view data-category="{{item[1]}}">{{item[0]}}</cover-view>
    </cover-view>
  </cover-view>
  <cover-view class="pointCtn" hover-class="pressHover" catch:tap="point">
    <cover-image class="pointBtn" src="/function/icon/point.png" />
  </cover-view>
  <cover-view class="scaleLargeBtn" hover-class="pressHover" catch:tap="scale" data-action="enlarge">
    <cover-view>+</cover-view>
  </cover-view>
  <cover-view class="scaleSmallBtn" hover-class="pressHover" catch:tap="scale" data-action="narrow">
    <cover-view>-</cover-view>
  </cover-view>
  <cover-view class="listCtn {{list?'moveUpIn':'moveUpOut'}}" style="top:{{info.screenHeight-tabHeight}}px;height:{{info.screenHeight-tabHeight}}px;"></cover-view>
  <cover-view class="tab" id="mapTab">
    <cover-view class="locateCtn" hover-class="pressHover" catch:tap="moveToLocation">
      <cover-image class="locateBtn" src="/function/icon/locate.png" />
    </cover-view>
    <cover-view class="switch" catch:tap="switchTap">
      <cover-view class="switchItem {{mapSwitch?'active':''}}">本部</cover-view>
      <cover-view class="switchItem {{mapSwitch?'':'active'}}">净月</cover-view>
    </cover-view>
    <cover-view class="listBtnCtn {{list?'listActive':''}}" hover-class="{{list?'active':'nomarl'}}" catch:tap="showList">
      <cover-image wx:if="{{!list}}" class="listBtn" src="/function/icon/list.png" />
      <cover-image wx:if="{{list}}" class="listBtn" src="/function/icon/list-active.png" />
    </cover-view>
  </cover-view>
  <cover-view class="closeBtn {{list?'fadeIn':'fadeOut'}}" style="top:{{closeTop}}px;z-index:100;" hover-class="pressHover" catch:tap="showList">
    <cover-image class="closeIcon" src="/icon/close.png" />
  </cover-view>
</map>
<map wx:else subkey="NLVBZ-PGJRQ-T7K5F-GQ54N-GIXDH-FCBC4" id="schoolMap" class="schoolMap" style="width:100%;height:100%;" longitude="{{map.longitude}}" latitude="{{map.latitude}}" scale="{{map.scale}}" show-location markers="{{markers}}" bind:markertap="markers" bind:callouttap="markers" bind:updated="update" bind:regionchange="regionChange" enable-3D enable-scroll enable-rotate show-compass enable-overlooking enable-zoom>
  <cover-view class="backBtn" style="top:{{info.statusBarHeight+5}}px;z-index:97;" hover-class="buttonHover" catchtap="back">
    <cover-image class="backIcon" src="/icon/back{{a.nm?'':'Black'}}.png" />
  </cover-view>
  <cover-view class="selectCtn {{pointDisplay?'fadeIn':'fadeOut'}}" style="bottom:{{selectBottom}}rpx;z-index:96;" catchtap="select">
    <cover-view wx:for="{{category}}" wx:key="{{item[0]}}" class="selectBtn {{selectItem==item[1]?'active':''}}" hover-class="pressHover" data-category="{{item[1]}}">
      <cover-view data-category="{{item[1]}}">{{item[0]}}</cover-view>
    </cover-view>
  </cover-view>
  <cover-view class="pointCtn" hover-class="pressHover" catch:tap="point">
    <cover-image class="pointBtn" src="/function/icon/point.png" />
  </cover-view>
  <cover-view class="scaleLargeBtn" hover-class="pressHover" catch:tap="scale" data-action="enlarge">
    <cover-view>+</cover-view>
  </cover-view>
  <cover-view class="scaleSmallBtn" hover-class="pressHover" catch:tap="scale" data-action="narrow">
    <cover-view>-</cover-view>
  </cover-view>
  <cover-view class="listCtn {{list?'moveUpIn':'moveUpOut'}}" style="top:{{info.screenHeight-tabHeight}}px;height:{{info.screenHeight-tabHeight}}px;"></cover-view>
  <cover-view class="tab" id="mapTab">
    <cover-view class="locateCtn" hover-class="pressHover" catch:tap="moveToLocation">
      <cover-image class="locateBtn" src="/function/icon/locate.png" />
    </cover-view>
    <cover-view class="switch" catch:tap="Switch">
      <cover-view class="switchItem {{mapSwitch?'active':''}}">本部</cover-view>
      <cover-view class="switchItem {{mapSwitch?'':'active'}}">净月</cover-view>
    </cover-view>
    <cover-view class="listBtnCtn {{list?'listActive':''}}" hover-class="{{list?'active':'nomarl'}}" catch:tap="showList">
      <cover-image wx:if="{{!list}}" class="listBtn" src="/function/icon/list.png" />
      <cover-image wx:if="{{list}}" class="listBtn" src="/function/icon/list-active.png" />
    </cover-view>
  </cover-view>
  <cover-view class="closeBtn {{list?'fadeIn':'fadeOut'}}" style="top:{{closeTop}}px;z-index:100;" hover-class="pressHover" catch:tap="showList">
    <cover-image class="closeIcon" src="/icon/close.png" />
  </cover-view>
</map>