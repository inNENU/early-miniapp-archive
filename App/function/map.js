"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var wxpage_1 = require("wxpage");
var page_1 = require("../utils/page");
var tab_1 = require("../utils/tab");
var a = getApp().globalData;
var includePoint1 = {
    padding: [30, 20, 30, 20],
    points: [
        { latitude: 43.8578480844, longitude: 125.3252720833 },
        { latitude: 43.8633404949, longitude: 125.3379964828 }
    ]
};
var includePoint2 = {
    padding: [30, 20, 30, 20],
    points: [
        { latitude: 43.8256570334, longitude: 125.4175829887 },
        { latitude: 43.8247281876, longitude: 125.4359936714 }
    ]
};
wxpage_1.default('map', {
    data: {
        nm: a.nm,
        map: {
            latitude: 43.862007982140646,
            longitude: 125.33405307523934,
            scale: 17
        },
        list: false,
        pointDisplay: false,
        closeTop: -31,
        selectBottom: 0,
        selectItem: 'all',
        category: [
            ['全部', 'all'],
            ['校门', 'gate'],
            ['学院', 'school'],
            ['建筑', 'buildings'],
            ['寝室', 'dormitory'],
            ['设施', 'facility'],
            ['运动场', 'sportsField'],
            ['风景', 'scenery']
        ]
    },
    onNavigate: function () {
        console.log('将要跳转Map');
        tab_1.default.markerSet();
        a.marker = this.getMarker();
    },
    onLoad: function () {
        var _this = this;
        wx.showLoading({ title: '加载中...' });
        tab_1.default.markerSet();
        var _a = a.marker ? a.marker : this.getMarker(), mapSwitch = _a.mapSwitch, markers = _a.markers;
        delete a.marker;
        this.setData({
            mapSwitch: mapSwitch,
            markers: markers,
            info: a.info,
            mapStyle: a.nm ? '46NBZ-EJ6C4-4REUO-XR7ZR-CWLG5-T3BDA' : 'PZGBZ-74N6F-KVYJ5-NRJDH-Y3NUT-IKFLF',
            nm: a.nm
        });
        this.mapCtx = wx.createMapContext('schoolMap');
        this.mapCtx.includePoints(mapSwitch ? includePoint1 : includePoint2);
        setTimeout(function () {
            _this.mapCtx.getScale({
                success: function (r1) {
                    _this.mapCtx.getCenterLocation({
                        success: function (r2) {
                            _this.setData({ map: { scale: r1.scale, latitude: r2.latitude, longitude: r2.longitude } });
                        }
                    });
                }
            });
            wx.hideLoading();
        }, 500);
        page_1.default.Notice('map');
    },
    onShow: function () {
        var _a = page_1.default.color(false), nc = _a.nc, bc = _a.bc;
        wx.setNavigationBarColor(nc);
        wx.setBackgroundColor(bc);
    },
    onReady: function () {
        var _this = this;
        wx.createSelectorQuery().select('#mapTab')
            .boundingClientRect(function (rect) {
            _this.setData({ tabHeight: rect.height });
        })
            .exec();
    },
    getMarker: function () {
        var value = wx.getStorageSync('mapSwitch');
        var mapSwitch = value || value === false ? value : (wx.setStorageSync('mapSwitch', true), true);
        var markers = wx.getStorageSync(mapSwitch ? 'benbu-all' : 'jingyue-all');
        return { mapSwitch: mapSwitch, markers: markers };
    },
    Switch: function () {
        var _this = this;
        var temp = !this.data.mapSwitch;
        var markers = wx.getStorageSync(temp ? 'benbu-all' : 'jingyue-all');
        this.setData({
            mapSwitch: temp,
            markers: markers
        });
        this.mapCtx = wx.createMapContext('schoolMap');
        this.mapCtx.includePoints(temp ? includePoint1 : includePoint2);
        setTimeout(function () {
            _this.mapCtx.getScale({
                success: function (r1) {
                    _this.mapCtx.getCenterLocation({
                        success: function (r2) {
                            _this.setData({ map: { scale: r1.scale, latitude: r2.latitude, longitude: r2.longitude } });
                        }
                    });
                }
            });
        }, 500);
        wx.setStorageSync('mapSwitch', temp);
    },
    scale: function (e) {
        var _this = this;
        this.mapCtx.getCenterLocation({
            success: function (r2) {
                _this.setData({
                    map: {
                        scale: _this.data.map.scale + (e.currentTarget.dataset.action === 'enlarge' ? 1 : -1),
                        latitude: r2.latitude, longitude: r2.longitude
                    }
                });
            }
        });
    },
    moveToLocation: function () {
        this.mapCtx.moveToLocation();
    },
    point: function () {
        var _this = this;
        if (this.data.pointDisplay) {
            this.setData({ pointDisplay: !this.data.pointDisplay });
            setTimeout(function () {
                _this.setData({ selectBottom: a.info.screenHeight / a.info.screenWidth * 750 });
            }, 500);
        }
        else
            this.setData({
                pointDisplay: !this.data.pointDisplay,
                selectBottom: 190
            });
    },
    select: function (e) {
        var name = this.data.mapSwitch ? 'benbu' : 'jingyue';
        var current = e.target.dataset.category;
        var markers = wx.getStorageSync(name + "-" + current);
        this.setData({ markers: markers, selectItem: current });
        this.mapCtx.includePoints({ padding: [30, 20, 30, 20], points: markers });
    },
    markers: function (e) {
        var mapSwitch = this.data.mapSwitch;
        var xiaoqu = mapSwitch ? 'benbu' : 'jingyue';
        if (e.type === 'markertap')
            this.$preload("situs?xiaoqu=" + xiaoqu + "&aim=" + (xiaoqu + e.markerId));
        else if (e.type === 'callouttap')
            this.$route("/function/situs?xiaoqu=" + xiaoqu + "&aim=" + (xiaoqu + e.markerId));
    },
    showList: function () {
        var _this = this;
        if (this.data.list) {
            this.setData({ list: !this.data.list });
            setTimeout(function () {
                _this.setData({ closeTop: -31 });
            }, 500);
        }
        else
            this.setData({
                list: !this.data.list,
                closeTop: a.info.statusBarHeight + 5.5
            });
    },
    back: function () {
        wx.navigateBack({});
    },
    regionChange: function (e) {
        console.log('regionChange', e);
    },
    update: function (e) {
        console.log('update', e);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EsaUNBQStCO0FBQy9CLHNDQUFrQztBQUNsQyxvQ0FBZ0M7QUFDeEIsSUFBQSx1QkFBYSxDQUFjO0FBRW5DLElBQU0sYUFBYSxHQUFHO0lBQ3BCLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN6QixNQUFNLEVBQUU7UUFDTixFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRTtRQUN0RCxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRTtLQUN2RDtDQUNGLENBQUM7QUFDRixJQUFNLGFBQWEsR0FBRztJQUNwQixPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDekIsTUFBTSxFQUFFO1FBQ04sRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUU7UUFDdEQsRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUU7S0FDdkQ7Q0FDRixDQUFDO0FBRUYsZ0JBQVMsQ0FBQyxLQUFLLEVBQUU7SUFDZixJQUFJLEVBQUU7UUFDSixFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUU7UUFDUixHQUFHLEVBQUU7WUFDSCxRQUFRLEVBQUUsa0JBQWtCO1lBQzVCLFNBQVMsRUFBRSxrQkFBa0I7WUFDN0IsS0FBSyxFQUFFLEVBQUU7U0FDVjtRQUNELElBQUksRUFBRSxLQUFLO1FBQ1gsWUFBWSxFQUFFLEtBQUs7UUFDbkIsUUFBUSxFQUFFLENBQUMsRUFBRTtRQUNiLFlBQVksRUFBRSxDQUFDO1FBQ2YsVUFBVSxFQUFFLEtBQUs7UUFDakIsUUFBUSxFQUFFO1lBQ1IsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ2IsQ0FBQyxJ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dCI6WyIvKlxuICogQEF1dGhvcjogTXIuSG9wZVxuICogQERhdGU6IDIwMTktMDYtMjQgMjE6MTI6MTNcbiAqIEBMYXN0RWRpdG9yczogTXIuSG9wZVxuICogQExhc3RFZGl0VGltZTogMjAxOS0wNi0yNCAyMzo0MDozMlxuICogQERlc2NyaXB0aW9uOiDlnLDlm75cbiAqL1xuaW1wb3J0ICRyZWdpc3RlciBmcm9tICd3eHBhZ2UnO1xuaW1wb3J0ICRwYWdlIGZyb20gJy4uL3V0aWxzL3BhZ2UnO1xuaW1wb3J0ICR0YWIgZnJvbSAnLi4vdXRpbHMvdGFiJztcbmNvbnN0IHsgZ2xvYmFsRGF0YTogYSB9ID0gZ2V0QXBwKCk7XG5cbmNvbnN0IGluY2x1ZGVQb2ludDEgPSB7XG4gIHBhZGRpbmc6IFszMCwgMjAsIDMwLCAyMF0sXG4gIHBvaW50czogW1xuICAgIHsgbGF0aXR1ZGU6IDQzLjg1Nzg0ODA4NDQsIGxvbmdpdHVkZTogMTI1LjMyNTI3MjA4MzMgfSxcbiAgICB7IGxhdGl0dWRlOiA0My44NjMzNDA0OTQ5LCBsb25naXR1ZGU6IDEyNS4zMzc5OTY0ODI4IH1cbiAgXVxufTtcbmNvbnN0IGluY2x1ZGVQb2ludDIgPSB7XG4gIHBhZGRpbmc6IFszMCwgMjAsIDMwLCAyMF0sXG4gIHBvaW50czogW1xuICAgIHsgbGF0aXR1ZGU6IDQzLjgyNTY1NzAzMzQsIGxvbmdpdHVkZTogMTI1LjQxNzU4Mjk4ODcgfSxcbiAgICB7IGxhdGl0dWRlOiA0My44MjQ3MjgxODc2LCBsb25naXR1ZGU6IDEyNS40MzU5OTM2NzE0IH1cbiAgXVxufTtcblxuJHJlZ2lzdGVyKCdtYXAnLCB7XG4gIGRhdGE6IHtcbiAgICBubTogYS5ubSxcbiAgICBtYXA6IHtcbiAgICAgIGxhdGl0dWRlOiA0My44NjIwMDc5ODIxNDA2NDYsXG4gICAgICBsb25naXR1ZGU6IDEyNS4zMzQwNTMwNzUyMzkzNCxcbiAgICAgIHNjYWxlOiAxN1xuICAgIH0sXG4gICAgbGlzdDogZmFsc2UsXG4gICAgcG9pbnREaXNwbGF5OiBmYWxzZSxcbiAgICBjbG9zZVRvcDogLTMxLFxuICAgIHNlbGVjdEJvdHRvbTogMCxcbiAgICBzZWxlY3RJdGVtOiAnYWxsJyxcbiAgICBjYXRlZ29yeTogW1xuICAgICAgWyflhajpg6gnLCAnYWxsJ10sXG4gICAgICBbJ+agoemXqCcsICdnYXRlJ10sXG4gICAgICBbJ+WtpumZoicsICdzY2hvb2wnXSxcbiAgICAgIFsn5bu6562RJywgJ2J1aWxkaW5ncyddLFxuICAgICAgWyflr53lrqQnLCAnZG9ybWl0b3J5J10sXG4gICAgICBbJ+iuvuaWvScsICdmYWNpbGl0eSddLFxuICAgICAgWyfov5DliqjlnLonLCAnc3BvcnRzRmllbGQnXSxcbiAgICAgIFsn6aOO5pmvJywgJ3NjZW5lcnknXVxuICAgIF1cbiAgfSxcbiAgb25OYXZpZ2F0ZSgpIHtcbiAgICBjb25zb2xlLmxvZygn5bCG6KaB6Lez6L2sTWFwJyk7XG4gICAgJHRhYi5tYXJrZXJTZXQoKTtcbiAgICBhLm1hcmtlciA9IHRoaXMuZ2V0TWFya2VyKCk7XG4gIH0sXG4gIG9uTG9hZCgpIHtcbiAgICB3eC5zaG93TG9hZGluZyh7IHRpdGxlOiAn5Yqg6L295LitLi4uJyB9KTtcblxuICAgICR0YWIubWFya2VyU2V0KCk7XG5cbiAgICBjb25zdCB7IG1hcFN3aXRjaCwgbWFya2VycyB9ID0gYS5tYXJrZXIgPyBhLm1hcmtlciA6IHRoaXMuZ2V0TWFya2VyKCk7XG5cbiAgICBkZWxldGUgYS5tYXJrZXI7XG5cbiAgICB0aGlzLnNldERhdGEhKHtcbiAgICAgIG1hcFN3aXRjaCxcbiAgICAgIG1hcmtlcnMsXG4gICAgICBpbmZvOiBhLmluZm8sXG4gICAgICBtYXBTdHlsZTogYS5ubSA/ICc0Nk5CWi1FSjZDNC00UkVVTy1YUjdaUi1DV0xHNS1UM0JEQScgOiAnUFpHQlotNzRONkYtS1ZZSjUtTlJKREgtWTNOVVQtSUtGTEYnLFxuICAgICAgbm06IGEubm1cbiAgICB9KTtcbiAgICB0aGlzLm1hcEN0eCA9IHd4LmNyZWF0ZU1hcENvbnRleHQoJ3NjaG9vbE1hcCcpO1xuICAgIHRoaXMubWFwQ3R4LmluY2x1ZGVQb2ludHMobWFwU3dpdGNoID8gaW5jbHVkZVBvaW50MSA6IGluY2x1ZGVQb2ludDIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5tYXBDdHguZ2V0U2NhbGUoe1xuICAgICAgICBzdWNjZXNzOiAocjE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMubWFwQ3R4LmdldENlbnRlckxvY2F0aW9uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChyMjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSEoeyBtYXA6IHsgc2NhbGU6IHIxLnNjYWxlLCBsYXRpdHVkZTogcjIubGF0aXR1ZGUsIGxvbmdpdHVkZTogcjIubG9uZ2l0dWRlIH0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd3guaGlkZUxvYWRpbmcoKTtcbiAgICB9LCA1MDApO1xuXG4gICAgLy8g5by55Ye66YCa55+lXG4gICAgJHBhZ2UuTm90aWNlKCdtYXAnKTtcbiAgfSxcbiAgb25TaG93KCkge1xuICAgIC8vIOiuvue9ruiDtuWbiuWSjOiDjOaZr+minOiJslxuICAgIGNvbnN0IHsgbmMsIGJjIH0gPSAkcGFnZS5jb2xvcihmYWxzZSk7XG5cbiAgICB3eC5zZXROYXZpZ2F0aW9uQmFyQ29sb3IobmMpO1xuICAgIHd4LnNldEJhY2tncm91bmRDb2xvcihiYyk7XG4gIH0sXG4gIG9uUmVhZHkoKSB7XG4gICAgLy8g6K6+572udGFiXG4gICAgd3guY3JlYXRlU2VsZWN0b3JRdWVyeSgpLnNlbGVjdCgnI21hcFRhYicpXG4gICAgICAuYm91bmRpbmdDbGllbnRSZWN0KHJlY3QgPT4ge1xuICAgICAgICB0aGlzLnNldERhdGEhKHsgdGFiSGVpZ2h0OiByZWN0LmhlaWdodCB9KTtcbiAgICAgIH0pXG4gICAgICAuZXhlYygpO1xuICB9LFxuICBnZXRNYXJrZXIoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB3eC5nZXRTdG9yYWdlU3luYygnbWFwU3dpdGNoJyk7XG4gICAgY29uc3QgbWFwU3dpdGNoID0gdmFsdWUgfHwgdmFsdWUgPT09IGZhbHNlID8gdmFsdWUgOiAod3guc2V0U3RvcmFnZVN5bmMoJ21hcFN3aXRjaCcsIHRydWUpLCB0cnVlKTtcbiAgICBjb25zdCBtYXJrZXJzID0gd3guZ2V0U3RvcmFnZVN5bmMobWFwU3dpdGNoID8gJ2JlbmJ1LWFsbCcgOiAnamluZ3l1ZS1hbGwnKTtcblxuICAgIHJldHVybiB7IG1hcFN3aXRjaCwgbWFya2VycyB9O1xuICB9LFxuICBTd2l0Y2goKSB7XG4gICAgY29uc3QgdGVtcCA9ICF0aGlzLmRhdGEubWFwU3dpdGNoO1xuICAgIGNvbnN0IG1hcmtlcnMgPSB3eC5nZXRTdG9yYWdlU3luYyh0ZW1wID8gJ2JlbmJ1LWFsbCcgOiAnamluZ3l1ZS1hbGwnKTtcblxuICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgbWFwU3dpdGNoOiB0ZW1wLFxuICAgICAgbWFya2Vyc1xuICAgIH0pO1xuICAgIHRoaXMubWFwQ3R4ID0gd3guY3JlYXRlTWFwQ29udGV4dCgnc2Nob29sTWFwJyk7XG4gICAgdGhpcy5tYXBDdHguaW5jbHVkZVBvaW50cyh0ZW1wID8gaW5jbHVkZVBvaW50MSA6IGluY2x1ZGVQb2ludDIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5tYXBDdHguZ2V0U2NhbGUoe1xuICAgICAgICBzdWNjZXNzOiAocjE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMubWFwQ3R4LmdldENlbnRlckxvY2F0aW9uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChyMjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSEoeyBtYXA6IHsgc2NhbGU6IHIxLnNjYWxlLCBsYXRpdHVkZTogcjIubGF0aXR1ZGUsIGxvbmdpdHVkZTogcjIubG9uZ2l0dWRlIH0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDUwMCk7XG4gICAgd3guc2V0U3RvcmFnZVN5bmMoJ21hcFN3aXRjaCcsIHRlbXApO1xuICB9LFxuICBzY2FsZShlOiBhbnkpIHtcbiAgICB0aGlzLm1hcEN0eC5nZXRDZW50ZXJMb2NhdGlvbih7XG4gICAgICBzdWNjZXNzOiAocjI6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnNldERhdGEhKHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIHNjYWxlOiB0aGlzLmRhdGEubWFwLnNjYWxlICsgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbiA9PT0gJ2VubGFyZ2UnID8gMSA6IC0xKSxcbiAgICAgICAgICAgIGxhdGl0dWRlOiByMi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiByMi5sb25naXR1ZGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBUaGlzLm1hcEN0eC5nZXRTY2FsZSh7XG4gICAgICogICBzdWNjZXNzKHIxKSB7XG4gICAgICogICAgIHRoYXQubWFwQ3R4LmdldENlbnRlckxvY2F0aW9uKHtcbiAgICAgKiAgICAgICBzdWNjZXNzKHIyKSB7XG4gICAgICogICAgICAgICB0aGF0LnNldERhdGEoe1xuICAgICAqICAgICAgICAgICBtYXA6IHtcbiAgICAgKiAgICAgICAgICAgICBzY2FsZTogcjEuc2NhbGUgKyAoZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uID09ICdlbmxhcmdlJyA/IDEgOiAtMSksXG4gICAgICogICAgICAgICAgICAgbGF0aXR1ZGU6IHIyLmxhdGl0dWRlLFxuICAgICAqICAgICAgICAgICAgIGxvbmdpdHVkZTogcjIubG9uZ2l0dWRlXG4gICAgICogICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfSk7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICovXG4gIH0sXG4gIG1vdmVUb0xvY2F0aW9uKCkge1xuICAgIHRoaXMubWFwQ3R4Lm1vdmVUb0xvY2F0aW9uKCk7XG4gIH0sXG4gIHBvaW50KCkge1xuICAgIGlmICh0aGlzLmRhdGEucG9pbnREaXNwbGF5KSB7XG4gICAgICB0aGlzLnNldERhdGEhKHsgcG9pbnREaXNwbGF5OiAhdGhpcy5kYXRhLnBvaW50RGlzcGxheSB9KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldERhdGEhKHsgc2VsZWN0Qm90dG9tOiBhLmluZm8uc2NyZWVuSGVpZ2h0IC8gYS5pbmZvLnNjcmVlbldpZHRoICogNzUwIH0pO1xuICAgICAgfSwgNTAwKTtcbiAgICB9IGVsc2VcbiAgICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgICBwb2ludERpc3BsYXk6ICF0aGlzLmRhdGEucG9pbnREaXNwbGF5LFxuICAgICAgICBzZWxlY3RCb3R0b206IDE5MFxuICAgICAgfSk7XG5cbiAgfSxcbiAgc2VsZWN0KGU6IGFueSkge1xuICAgIGNvbnN0IG5hbWUgPSB0aGlzLmRhdGEubWFwU3dpdGNoID8gJ2JlbmJ1JyA6ICdqaW5neXVlJztcbiAgICBjb25zdCBjdXJyZW50ID0gZS50YXJnZXQuZGF0YXNldC5jYXRlZ29yeTtcbiAgICBjb25zdCBtYXJrZXJzID0gd3guZ2V0U3RvcmFnZVN5bmMoYCR7bmFtZX0tJHtjdXJyZW50fWApO1xuXG4gICAgdGhpcy5zZXREYXRhISh7IG1hcmtlcnMsIHNlbGVjdEl0ZW06IGN1cnJlbnQgfSk7XG4gICAgdGhpcy5tYXBDdHguaW5jbHVkZVBvaW50cyh7IHBhZGRpbmc6IFszMCwgMjAsIDMwLCAyMF0sIHBvaW50czogbWFya2VycyB9KTtcbiAgfSxcbiAgbWFya2VycyhlOiBhbnkpIHtcbiAgICBjb25zdCB7IG1hcFN3aXRjaCB9ID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IHhpYW9xdSA9IG1hcFN3aXRjaCA/ICdiZW5idScgOiAnamluZ3l1ZSc7XG5cbiAgICBpZiAoZS50eXBlID09PSAnbWFya2VydGFwJylcbiAgICAgIHRoaXMuJHByZWxvYWQoYHNpdHVzP3hpYW9xdT0ke3hpYW9xdX0mYWltPSR7eGlhb3F1ICsgZS5tYXJrZXJJZH1gKTtcbiAgICBlbHNlIGlmIChlLnR5cGUgPT09ICdjYWxsb3V0dGFwJylcbiAgICAgIHRoaXMuJHJvdXRlKGAvZnVuY3Rpb24vc2l0dXM/eGlhb3F1PSR7eGlhb3F1fSZhaW09JHt4aWFvcXUgKyBlLm1hcmtlcklkfWApO1xuICB9LFxuICBzaG93TGlzdCgpIHtcbiAgICBpZiAodGhpcy5kYXRhLmxpc3QpIHtcbiAgICAgIHRoaXMuc2V0RGF0YSEoeyBsaXN0OiAhdGhpcy5kYXRhLmxpc3QgfSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXREYXRhISh7IGNsb3NlVG9wOiAtMzEgfSk7XG4gICAgICB9LCA1MDApO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgIGxpc3Q6ICF0aGlzLmRhdGEubGlzdCxcbiAgICAgICAgY2xvc2VUb3A6IGEuaW5mby5zdGF0dXNCYXJIZWlnaHQgKyA1LjVcbiAgICAgIH0pO1xuXG4gIH0sXG4gIGJhY2soKSB7XG4gICAgd3gubmF2aWdhdGVCYWNrKHt9KTtcbiAgfSxcbiAgcmVnaW9uQ2hhbmdlKGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCdyZWdpb25DaGFuZ2UnLCBlKTtcbiAgfSxcbiAgdXBkYXRlKGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCd1cGRhdGUnLCBlKTtcbiAgfVxuXG4gIC8qXG4gICAqIFVwZGF0ZSgpIHtcbiAqICAgY29uc29sZS5sb2coJ3VwZGF0ZScpXG4gKiAgIHRoaXMubWFwQ3R4LmdldFNjYWxlKHtcbiAqICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdnZXQgc2NhbGUnKTtcbiAqICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgdGhpcy5tYXBDdHguZ2V0Q2VudGVyTG9jYXRpb24oe1xuICogICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICogICAgICAgY29uc29sZS5sb2coJ2dldENlbnRlckxvY2F0aW9uJyk7XG4gKiAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiB9LFxuICogcmVnaW9uQ2hhbmdlKGUpIHtcbiAqIGNvbnNvbGUubG9nKCdyZWdpb25DaGFuZ2UnKTtcbiAqIGNvbnNvbGUubG9nKHRyaWdnZXIpXG4gKiBpZiAoZS50eXBlID09ICdlbmQnICYmIHRyaWdnZXIpIHtcbiAqICAgY29uc29sZS5sb2coJ2Z1Y3Rpb25pbmcnKTtcbiAqICAgdHJpZ2dlciA9IGZhbHNlO1xuICogICBjb25zb2xlLmxvZyh0cmlnZ2VyKTtcbiAqICAgbGV0IHRoYXQgPSB0aGlzLFxuICogICAgIG1hcCA9IHRoaXMuZGF0YS5tYXA7XG4gKiAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgdHJpZ2dlciA9IHRydWU7XG4gKiAgICAgY29uc29sZS5sb2coXCJ0cnVlXCIpXG4gKiAgICAgY29uc29sZS5sb2codHJpZ2dlcilcbiAqICAgfSwgNTAwKVxuICogICB2YXIgcmVnaW9uQ2hhbmdlO1xuICogICB0aGlzLm1hcEN0eC5nZXRTY2FsZSh7XG4gKiAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gKiAgICAgICBtYXAuc2NhbGUgPSByZXMuc2NhbGU7XG4gKiAgICAgICBjb25zb2xlLmxvZygnc2NhbGUnICsgcmVzLnNjYWxlKTtcbiAqICAgICAgIHJlZ2lvbkNoYW5nZSA9IHRydWU7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgdGhpcy5tYXBDdHguZ2V0Q2VudGVyTG9jYXRpb24oe1xuICogICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICogICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdkaXN0YW5jZSBpcycgKyB1LmdEKG1hcC5sYXRpdHVkZSwgbWFwLmxvbmdpdHVkZSwgcmVzLmxhdGl0dWRlLCByZXMubG9uZ2l0dWRlKSlcbiAqICAgICAgIGlmIChyZWdpb25DaGFuZ2UgJiYgKHUuZ0QobWFwLmxhdGl0dWRlLCBtYXAubG9uZ2l0dWRlLCByZXMubGF0aXR1ZGUsIHJlcy5sb25naXR1ZGUpID4gMSkpIHtcbiAqICAgICAgICAgbWFwLmxhdGl0dWRlID0gcmVzLmxhdGl0dWRlO1xuICogICAgICAgICBtYXAubG9uZ2l0dWRlID0gcmVzLmxvbmdpdHVkZTtcbiAqICAgICAgICAgdGhhdC5zZXREYXRhKHtcbiAqICAgICAgICAgICBtYXA6IG1hcFxuICogICAgICAgICB9KTtcbiAqICAgICAgIH07XG4gKiAgICAgICByZWdpb25DaGFuZ2UgPSBmYWxzZTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogfVxuICogfSxcbiAqIHRyYW5zbGF0ZU1hcmtlcjogZnVuY3Rpb24oKSB7XG4gKiAgIHRoaXMubWFwQ3R4LnRyYW5zbGF0ZU1hcmtlcih7XG4gKiAgICAgbWFya2VySWQ6IDAsXG4gKiAgICAgYXV0b1JvdGF0ZTogdHJ1ZSxcbiAqICAgICBkdXJhdGlvbjogMTAwMCxcbiAqICAgICBkZXN0aW5hdGlvbjoge1xuICogICAgICAgbGF0aXR1ZGU6IDIzLjEwMjI5LFxuICogICAgICAgbG9uZ2l0dWRlOiAxMTMuMzM0NTIxMSxcbiAqICAgICB9LFxuICogICAgIGFuaW1hdGlvbkVuZCgpIHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdhbmltYXRpb24gZW5kJylcbiAqICAgICB9XG4gKiAgIH0pXG4gKiB9LFxuICovXG4gIC8qXG4gICogUmVnaW9uQ2hhbmdlKCkgeyB9LFxuICAgKiB1cGRhdGUoKSB7IH1cbiAgICAqL1xufSk7XG4iXX0=