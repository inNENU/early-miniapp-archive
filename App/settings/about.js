"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var wxpage_1 = require("wxpage");
var component_1 = require("../utils/component");
var file_1 = require("../utils/file");
var page_1 = require("../utils/page");
var wx_1 = require("../utils/wx");
var a = getApp().globalData;
wxpage_1.default('about', {
    clickNumber: 0,
    data: {
        T: a.T,
        nm: a.nm,
        page: [
            { tag: 'head', title: '关于', aimDepth: 1, grey: true, feedback: true, contact: true },
            {
                tag: 'list',
                head: '版本号',
                content: [
                    { text: a.version, button: 'debugMode' },
                    { text: '启用测试功能', swiKey: 'test', Switch: 'testSwitch' },
                    { text: '调试开关', swiKey: 'debugMode', Switch: 'debugSwitch' },
                    { text: '清除小程序数据', button: 'deleteData' },
                    { text: '清除小程序文件', button: 'deleteFile' },
                    { text: '初始化小程序', button: 'resetApp' },
                    { text: '退出小程序', navigate: true, openType: 'exit', target: 'miniProgram' },
                    { text: '退出开发者模式', button: 'debugMode' }
                ]
            },
            {
                tag: 'list',
                head: '正式版开发日志',
                content: [
                    { text: a.version + "\n\u91CD\u6784\u5C0F\u7A0B\u5E8F\n\u66F4\u65B0\u7F16\u8BD1\u57FA\u7840\u5E93\u4E3A2.7.2\n\u5C0F\u7A0B\u5E8F\u73B0\u5728\u62E5\u6709\u66F4\u597D\u7684\u6027\u80FD" },
                    { text: '查看详细日志', url: '/settings/2.0' }
                ]
            },
            {
                tag: 'list',
                head: '工作室与开发者介绍',
                content: [
                    { text: '   小程序全部内容均由Hope Studio独立开发。' },
                    { text: 'Hope Studio介绍', aim: 'MrHope0' },
                    { text: 'Mr.Hope个人介绍', aim: 'MrHope1' },
                    { text: '   感谢陈旭、董雨馨、傅阳、林传舜、沈竞泽、苏炀、邱诗懿、王一竹、张霁月在界面编写、排版与订正上给予的无私帮助。' }
                ]
            },
            {
                tag: 'list',
                head: '遇到问题？',
                content: [
                    { text: '对小程序有任何意见、建议或是想汇报bug？\n请添加QQ 1178522294 或点击右下角来联系开发者。' },
                    { text: '小程序功能太少?', aim: 'MrHope2' },
                    { text: '小程序响应慢？', desc: '欢迎捐赠', url: '/settings/donate' }
                ]
            },
            { tag: 'foot', desc: "\u5F53\u524D\u7248\u672C\uFF1A" + a.version }
        ]
    },
    onNavigate: function (res) {
        var p = this.data.page;
        var value = wx.getStorageSync('developMode');
        this.developMode = value || value === false ? value : wx.setStorageSync('developMode', false);
        if (wx.getStorageSync('debugMode'))
            p[1].content[2].status = true;
        if (!this.developMode)
            p[1].content.forEach(function (x, y) {
                x.hidden = !(y === 0);
            });
        page_1.default.resolve(res, p);
    },
    onLoad: function (option) {
        if (a.page.aim === option.aim)
            page_1.default.Set({ option: option, ctx: this });
        else {
            var p = this.data.page;
            var value = wx.getStorageSync('developMode');
            this.developMode = value || value === false ? value : wx.setStorageSync('developMode', false);
            if (!this.developMode)
                p[1].content.forEach(function (x, y) {
                    x.hidden = !(y === 0);
                });
            page_1.default.Set({ option: { aim: 'about' }, ctx: this }, p);
        }
        page_1.default.Notice('about');
    },
    onShow: function () {
        var _a = page_1.default.color(this.data.page[0].grey), nc = _a.nc, bc = _a.bc;
        wx.setNavigationBarColor(nc);
        wx.setBackgroundColor(bc);
    },
    onReady: function () {
        var _this = this;
        wx_1.default.request("config/" + a.version + "/about", function (data) {
            page_1.default.Set({ option: { aim: 'about' }, ctx: _this }, _this.data.page.slice(0, 2).concat(data, _this.data.page.slice(-1)));
        });
    },
    onPageScroll: function (e) {
        component_1.default.nav(e, this);
    },
    cA: function (e) {
        component_1.default.trigger(e, this);
    },
    debugMode: function () {
        var _this = this;
        if (this.developMode) {
            wx.setStorageSync('developMode', false);
            this.data.page[1].content.forEach(function (x, y) {
                x.hidden = !(y === 0);
            });
            this.setData({ page: this.data.page });
            this.clickNumber = 0;
            this.developMode = false;
        }
        else if (this.clickNumber < 5)
            this.clickNumber += 1;
        else if (this.clickNumber < 10) {
            wx_1.default.tip("\u518D\u70B9\u51FB" + (10 - this.clickNumber) + "\u6B21\u5373\u53EF\u542F\u7528\u5F00\u53D1\u8005\u6A21\u5F0F");
            this.clickNumber += 1;
        }
        else {
            this.setData({ debug: true });
            wx.nextTick(function () {
                _this.setData({ focus: true });
            });
        }
    },
    password: function (e) {
        if (e.detail.value.length === 7) {
            if (e.detail.value === '5201314') {
                wx_1.default.tip('已启用开发者模式');
                this.data.page[1].content.forEach(function (x) {
                    x.hidden = false;
                });
                this.setData({ page: this.data.page, debug: false });
                wx.setStorageSync('developMode', true);
                this.developMode = true;
            }
            else {
                wx.showToast({ title: '密码错误', icon: 'none', duration: 1000, image: '/icon/close.png' });
                this.setData({ debug: false });
            }
            e.detail.value = '';
        }
        return e.detail.value;
    },
    cancelInput: function () {
        this.setData({ debug: false });
    },
    debugSwitch: function (e) {
        var pos = e.target.dataset.id.split('-');
        this.data.page[pos[0]].content[pos[1]].status = e.detail.value;
        this.setData({ page: this.data.page });
        wx.setStorageSync('debugMode', e.detail.value);
        if (e.detail.value)
            wx.setEnableDebug({ enableDebug: true });
        else
            wx.setEnableDebug({ enableDebug: false });
    },
    testSwitch: function (res) {
        component_1.default.trigger(res, this);
        wx_1.default.tip("\u5DF2" + (res.detail.value ? '启用' : '关闭') + "\u6D4B\u8BD5\u529F\u80FD");
    },
    deleteData: function () {
        wx.clearStorageSync();
        wx_1.default.tip('数据清除完成');
    },
    deleteFile: function () {
        wx.showLoading({ title: '删除中', mask: true });
        file_1.default.listFile('').forEach(function (filePath) {
            file_1.default.Delete(filePath);
        });
        wx.hideLoading();
    },
    resetApp: function () {
        wx.showLoading({ title: '初始化中', mask: true });
        file_1.default.listFile('').forEach(function (filePath) {
            file_1.default.Delete(filePath);
        });
        wx.clearStorageSync();
        wx.hideLoading();
        wx.showModal({ title: '小程序初始化完成', content: '请单击 “退出小程序按钮” 退出小程序', showCancel: false });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJvdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhYm91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLGlDQUEyQztBQUMzQyxnREFBNEM7QUFDNUMsc0NBQWtDO0FBQ2xDLHNDQUFrQztBQUNsQyxrQ0FBOEI7QUFDdEIsSUFBQSx1QkFBYSxDQUFjO0FBRW5DLGdCQUFTLENBQUMsT0FBTyxFQUFFO0lBQ2pCLFdBQVcsRUFBRSxDQUFDO0lBQ2QsSUFBSSxFQUFFO1FBQ0osQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ04sRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFO1FBQ1IsSUFBSSxFQUFFO1lBQ0osRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtZQUNwRjtnQkFDRSxHQUFHLEVBQUUsTUFBTTtnQkFDWCxJQUFJLEVBQUUsS0FBSztnQkFDWCxPQUFPLEVBQUU7b0JBQ1AsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFO29CQUN4QyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO29CQUN4RCxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFO29CQUM1RCxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRTtvQkFDekMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUU7b0JBQ3pDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO29CQUN0QyxFQUFFLElBQUksRUFBRSxPQUFP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NCAyMDo1MjozNlxyXG4gKiBATGFzdEVkaXRvcnM6IE1yLkhvcGVcclxuICogQExhc3RFZGl0VGltZTogMjAxOS0wNi0yNiAwMDozMzo1N1xyXG4gKiBARGVzY3JpcHRpb246IOWFs+S6jlxyXG4gKi9cclxuaW1wb3J0ICRyZWdpc3RlciwgeyBXWFBhZ2UgfSBmcm9tICd3eHBhZ2UnO1xyXG5pbXBvcnQgJGNvbXBvbmVudCBmcm9tICcuLi91dGlscy9jb21wb25lbnQnO1xyXG5pbXBvcnQgJGZpbGUgZnJvbSAnLi4vdXRpbHMvZmlsZSc7XHJcbmltcG9ydCAkcGFnZSBmcm9tICcuLi91dGlscy9wYWdlJztcclxuaW1wb3J0ICRteSBmcm9tICcuLi91dGlscy93eCc7XHJcbmNvbnN0IHsgZ2xvYmFsRGF0YTogYSB9ID0gZ2V0QXBwKCk7XHJcblxyXG4kcmVnaXN0ZXIoJ2Fib3V0Jywge1xyXG4gIGNsaWNrTnVtYmVyOiAwLFxyXG4gIGRhdGE6IHtcclxuICAgIFQ6IGEuVCxcclxuICAgIG5tOiBhLm5tLFxyXG4gICAgcGFnZTogW1xyXG4gICAgICB7IHRhZzogJ2hlYWQnLCB0aXRsZTogJ+WFs+S6jicsIGFpbURlcHRoOiAxLCBncmV5OiB0cnVlLCBmZWVkYmFjazogdHJ1ZSwgY29udGFjdDogdHJ1ZSB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFnOiAnbGlzdCcsXHJcbiAgICAgICAgaGVhZDogJ+eJiOacrOWPtycsXHJcbiAgICAgICAgY29udGVudDogW1xyXG4gICAgICAgICAgeyB0ZXh0OiBhLnZlcnNpb24sIGJ1dHRvbjogJ2RlYnVnTW9kZScgfSxcclxuICAgICAgICAgIHsgdGV4dDogJ+WQr+eUqOa1i+ivleWKn+iDvScsIHN3aUtleTogJ3Rlc3QnLCBTd2l0Y2g6ICd0ZXN0U3dpdGNoJyB9LFxyXG4gICAgICAgICAgeyB0ZXh0OiAn6LCD6K+V5byA5YWzJywgc3dpS2V5OiAnZGVidWdNb2RlJywgU3dpdGNoOiAnZGVidWdTd2l0Y2gnIH0sXHJcbiAgICAgICAgICB7IHRleHQ6ICfmuIXpmaTlsI/nqIvluo/mlbDmja4nLCBidXR0b246ICdkZWxldGVEYXRhJyB9LFxyXG4gICAgICAgICAgeyB0ZXh0OiAn5riF6Zmk5bCP56iL5bqP5paH5Lu2JywgYnV0dG9uOiAnZGVsZXRlRmlsZScgfSxcclxuICAgICAgICAgIHsgdGV4dDogJ+WIneWni+WMluWwj+eoi+W6jycsIGJ1dHRvbjogJ3Jlc2V0QXBwJyB9LFxyXG4gICAgICAgICAgeyB0ZXh0OiAn6YCA5Ye65bCP56iL5bqPJywgbmF2aWdhdGU6IHRydWUsIG9wZW5UeXBlOiAnZXhpdCcsIHRhcmdldDogJ21pbmlQcm9ncmFtJyB9LFxyXG4gICAgICAgICAgeyB0ZXh0OiAn6YCA5Ye65byA5Y+R6ICF5qih5byPJywgYnV0dG9uOiAnZGVidWdNb2RlJyB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFnOiAnbGlzdCcsXHJcbiAgICAgICAgaGVhZDogJ+ato+W8j+eJiOW8gOWPkeaXpeW/lycsXHJcbiAgICAgICAgY29udGVudDogW1xyXG4gICAgICAgICAgeyB0ZXh0OiBgJHthLnZlcnNpb259XFxu6YeN5p6E5bCP56iL5bqPXFxu5pu05paw57yW6K+R5Z+656GA5bqT5Li6Mi43LjJcXG7lsI/nqIvluo/njrDlnKjmi6XmnInmm7Tlpb3nmoTmgKfog71gIH0sXHJcbiAgICAgICAgICB7IHRleHQ6ICfmn6XnnIvor6bnu4bml6Xlv5cnLCB1cmw6ICcvc2V0dGluZ3MvMi4wJyB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFnOiAnbGlzdCcsXHJcbiAgICAgICAgaGVhZDogJ+W3peS9nOWupOS4juW8gOWPkeiAheS7i+e7jScsXHJcbiAgICAgICAgY29udGVudDogW1xyXG4gICAgICAgICAgeyB0ZXh0OiAnICAg5bCP56iL5bqP5YWo6YOo5YaF5a655Z2H55SxSG9wZSBTdHVkaW/ni6znq4vlvIDlj5HjgIInIH0sXHJcbiAgICAgICAgICB7IHRleHQ6ICdIb3BlIFN0dWRpb+S7i+e7jScsIGFpbTogJ01ySG9wZTAnIH0sXHJcbiAgICAgICAgICB7IHRleHQ6ICdNci5Ib3Bl5Liq5Lq65LuL57uNJywgYWltOiAnTXJIb3BlMScgfSxcclxuICAgICAgICAgIHsgdGV4dDogJyAgIOaEn+iwoumZiOaXreOAgeiRo+mbqOmmqOOAgeWChemYs+OAgeael+S8oOiInOOAgeayiOernuazveOAgeiLj+eCgOOAgemCseivl+aHv+OAgeeOi+S4gOerueOAgeW8oOmcgeaciOWcqOeVjOmdoue8luWGmeOAgeaOkueJiOS4juiuouato+S4iue7meS6iOeahOaXoOengeW4ruWKqeOAgicgfVxyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRhZzogJ2xpc3QnLFxyXG4gICAgICAgIGhlYWQ6ICfpgYfliLDpl67popjvvJ8nLFxyXG4gICAgICAgIGNvbnRlbnQ6IFtcclxuICAgICAgICAgIHsgdGV4dDogJ+WvueWwj+eoi+W6j+acieS7u+S9leaEj+ingeOAgeW7uuiuruaIluaYr+aDs+axh+aKpWJ1Z++8n1xcbuivt+a3u+WKoFFRIDExNzg1MjIyOTQg5oiW54K55Ye75Y+z5LiL6KeS5p2l6IGU57O75byA5Y+R6ICF44CCJyB9LFxyXG4gICAgICAgICAgeyB0ZXh0OiAn5bCP56iL5bqP5Yqf6IO95aSq5bCRPycsIGFpbTogJ01ySG9wZTInIH0sXHJcbiAgICAgICAgICB7IHRleHQ6ICflsI/nqIvluo/lk43lupTmhaLvvJ8nLCBkZXNjOiAn5qyi6L+O5o2Q6LWgJywgdXJsOiAnL3NldHRpbmdzL2RvbmF0ZScgfVxyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAgeyB0YWc6ICdmb290JywgZGVzYzogYOW9k+WJjeeJiOacrO+8miR7YS52ZXJzaW9ufWAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAgb25OYXZpZ2F0ZShyZXM6IFdYUGFnZS5QYWdlQXJnKSB7XHJcbiAgICBjb25zdCBwID0gdGhpcy5kYXRhLnBhZ2U7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHd4LmdldFN0b3JhZ2VTeW5jKCdkZXZlbG9wTW9kZScpO1xyXG5cclxuICAgIHRoaXMuZGV2ZWxvcE1vZGUgPSB2YWx1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgPyB2YWx1ZSA6IHd4LnNldFN0b3JhZ2VTeW5jKCdkZXZlbG9wTW9kZScsIGZhbHNlKTtcclxuICAgIGlmICh3eC5nZXRTdG9yYWdlU3luYygnZGVidWdNb2RlJykpIHBbMV0uY29udGVudFsyXS5zdGF0dXMgPSB0cnVlO1xyXG4gICAgaWYgKCF0aGlzLmRldmVsb3BNb2RlKSBwWzFdLmNvbnRlbnQuZm9yRWFjaCgoeDogYW55LCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgeC5oaWRkZW4gPSAhKHkgPT09IDApO1xyXG4gICAgfSk7XHJcbiAgICAkcGFnZS5yZXNvbHZlKHJlcywgcCk7XHJcbiAgfSxcclxuICBvbkxvYWQob3B0aW9uOiBhbnkpIHtcclxuICAgIGlmIChhLnBhZ2UuYWltID09PSBvcHRpb24uYWltKSAkcGFnZS5TZXQoeyBvcHRpb24sIGN0eDogdGhpcyB9KTtcclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBwID0gdGhpcy5kYXRhLnBhZ2U7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gd3guZ2V0U3RvcmFnZVN5bmMoJ2RldmVsb3BNb2RlJyk7XHJcblxyXG4gICAgICB0aGlzLmRldmVsb3BNb2RlID0gdmFsdWUgfHwgdmFsdWUgPT09IGZhbHNlID8gdmFsdWUgOiB3eC5zZXRTdG9yYWdlU3luYygnZGV2ZWxvcE1vZGUnLCBmYWxzZSk7XHJcbiAgICAgIGlmICghdGhpcy5kZXZlbG9wTW9kZSkgcFsxXS5jb250ZW50LmZvckVhY2goKHg6IGFueSwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgeC5oaWRkZW4gPSAhKHkgPT09IDApO1xyXG4gICAgICB9KTtcclxuICAgICAgJHBhZ2UuU2V0KHsgb3B0aW9uOiB7IGFpbTogJ2Fib3V0JyB9LCBjdHg6IHRoaXMgfSwgcCk7XHJcbiAgICB9XHJcblxyXG4gICAgJHBhZ2UuTm90aWNlKCdhYm91dCcpO1xyXG4gIH0sXHJcbiAgb25TaG93KCkge1xyXG4gICAgLy8g6K6+572u6IO25ZuK5ZKM6IOM5pmv6aKc6ImyXHJcbiAgICBjb25zdCB7IG5jLCBiYyB9ID0gJHBhZ2UuY29sb3IodGhpcy5kYXRhLnBhZ2VbMF0uZ3JleSk7XHJcblxyXG4gICAgd3guc2V0TmF2aWdhdGlvbkJhckNvbG9yKG5jKTtcclxuICAgIHd4LnNldEJhY2tncm91bmRDb2xvcihiYyk7XHJcbiAgfSxcclxuICBvblJlYWR5KCkge1xyXG4gICAgJG15LnJlcXVlc3QoYGNvbmZpZy8ke2EudmVyc2lvbn0vYWJvdXRgLCAoZGF0YTogb2JqZWN0KSA9PiB7XHJcbiAgICAgICRwYWdlLlNldChcclxuICAgICAgICB7IG9wdGlvbjogeyBhaW06ICdhYm91dCcgfSwgY3R4OiB0aGlzIH0sXHJcbiAgICAgICAgdGhpcy5kYXRhLnBhZ2Uuc2xpY2UoMCwgMikuY29uY2F0KGRhdGEsIHRoaXMuZGF0YS5wYWdlLnNsaWNlKC0xKSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICB9LFxyXG4gIG9uUGFnZVNjcm9sbChlKSB7XHJcbiAgICAkY29tcG9uZW50Lm5hdihlLCB0aGlzKTtcclxuICB9LFxyXG4gIGNBKGU6IGFueSkge1xyXG4gICAgJGNvbXBvbmVudC50cmlnZ2VyKGUsIHRoaXMpO1xyXG4gIH0sXHJcbiAgZGVidWdNb2RlKCkge1xyXG4gICAgaWYgKHRoaXMuZGV2ZWxvcE1vZGUpIHtcclxuICAgICAgd3guc2V0U3RvcmFnZVN5bmMoJ2RldmVsb3BNb2RlJywgZmFsc2UpO1xyXG4gICAgICB0aGlzLmRhdGEucGFnZVsxXS5jb250ZW50LmZvckVhY2goKHg6IGFueSwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgeC5oaWRkZW4gPSAhKHkgPT09IDApO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZXREYXRhISh7IHBhZ2U6IHRoaXMuZGF0YS5wYWdlIH0pO1xyXG4gICAgICB0aGlzLmNsaWNrTnVtYmVyID0gMDtcclxuICAgICAgdGhpcy5kZXZlbG9wTW9kZSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmNsaWNrTnVtYmVyIDwgNSkgdGhpcy5jbGlja051bWJlciArPSAxO1xyXG4gICAgZWxzZSBpZiAodGhpcy5jbGlja051bWJlciA8IDEwKSB7XHJcbiAgICAgICRteS50aXAoYOWGjeeCueWHuyR7MTAgLSB0aGlzLmNsaWNrTnVtYmVyfeasoeWNs+WPr+WQr+eUqOW8gOWPkeiAheaooeW8j2ApO1xyXG4gICAgICB0aGlzLmNsaWNrTnVtYmVyICs9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldERhdGEhKHsgZGVidWc6IHRydWUgfSk7XHJcbiAgICAgIHd4Lm5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICB0aGlzLnNldERhdGEhKHsgZm9jdXM6IHRydWUgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGFzc3dvcmQoZTogYW55KSB7XHJcbiAgICBpZiAoZS5kZXRhaWwudmFsdWUubGVuZ3RoID09PSA3KSB7XHJcbiAgICAgIGlmIChlLmRldGFpbC52YWx1ZSA9PT0gJzUyMDEzMTQnKSB7IC8vIOWvhueggeato+ehrlxyXG4gICAgICAgICRteS50aXAoJ+W3suWQr+eUqOW8gOWPkeiAheaooeW8jycpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5wYWdlWzFdLmNvbnRlbnQuZm9yRWFjaCgoeDogYW55KSA9PiB7XHJcbiAgICAgICAgICB4LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YSEoeyBwYWdlOiB0aGlzLmRhdGEucGFnZSwgZGVidWc6IGZhbHNlIH0pO1xyXG4gICAgICAgIHd4LnNldFN0b3JhZ2VTeW5jKCdkZXZlbG9wTW9kZScsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuZGV2ZWxvcE1vZGUgPSB0cnVlO1xyXG5cclxuICAgICAgfSBlbHNlIHsgLy8g5a+G56CB6ZSZ6K+vXHJcbiAgICAgICAgd3guc2hvd1RvYXN0KHsgdGl0bGU6ICflr4bnoIHplJnor68nLCBpY29uOiAnbm9uZScsIGR1cmF0aW9uOiAxMDAwLCBpbWFnZTogJy9pY29uL2Nsb3NlLnBuZycgfSk7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhISh7IGRlYnVnOiBmYWxzZSB9KTtcclxuICAgICAgfVxyXG4gICAgICBlLmRldGFpbC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlLmRldGFpbC52YWx1ZTtcclxuICB9LFxyXG4gIGNhbmNlbElucHV0KCkge1xyXG4gICAgdGhpcy5zZXREYXRhISh7IGRlYnVnOiBmYWxzZSB9KTtcclxuICB9LFxyXG4gIGRlYnVnU3dpdGNoKGU6IGFueSkge1xyXG4gICAgY29uc3QgcG9zID0gZS50YXJnZXQuZGF0YXNldC5pZC5zcGxpdCgnLScpO1xyXG5cclxuICAgIHRoaXMuZGF0YS5wYWdlW3Bvc1swXV0uY29udGVudFtwb3NbMV1dLnN0YXR1cyA9IGUuZGV0YWlsLnZhbHVlO1xyXG4gICAgdGhpcy5zZXREYXRhISh7IHBhZ2U6IHRoaXMuZGF0YS5wYWdlIH0pO1xyXG4gICAgd3guc2V0U3RvcmFnZVN5bmMoJ2RlYnVnTW9kZScsIGUuZGV0YWlsLnZhbHVlKTtcclxuICAgIGlmIChlLmRldGFpbC52YWx1ZSkgd3guc2V0RW5hYmxlRGVidWcoeyBlbmFibGVEZWJ1ZzogdHJ1ZSB9KTtcclxuICAgIGVsc2Ugd3guc2V0RW5hYmxlRGVidWcoeyBlbmFibGVEZWJ1ZzogZmFsc2UgfSk7XHJcbiAgfSxcclxuICB0ZXN0U3dpdGNoKHJlczogYW55KSB7XHJcbiAgICAkY29tcG9uZW50LnRyaWdnZXIocmVzLCB0aGlzKTtcclxuICAgICRteS50aXAoYOW3siR7cmVzLmRldGFpbC52YWx1ZSA/ICflkK/nlKgnIDogJ+WFs+mXrSd95rWL6K+V5Yqf6IO9YCk7XHJcbiAgfSxcclxuICBkZWxldGVEYXRhKCkge1xyXG4gICAgd3guY2xlYXJTdG9yYWdlU3luYygpO1xyXG4gICAgJG15LnRpcCgn5pWw5o2u5riF6Zmk5a6M5oiQJyk7XHJcbiAgfSxcclxuICBkZWxldGVGaWxlKCkge1xyXG4gICAgd3guc2hvd0xvYWRpbmcoeyB0aXRsZTogJ+WIoOmZpOS4rScsIG1hc2s6IHRydWUgfSk7XHJcblxyXG4gICAgJGZpbGUubGlzdEZpbGUoJycpLmZvckVhY2goKGZpbGVQYXRoOiBzdHJpbmcpID0+IHtcclxuICAgICAgJGZpbGUuRGVsZXRlKGZpbGVQYXRoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHd4LmhpZGVMb2FkaW5nKCk7XHJcbiAgfSxcclxuICByZXNldEFwcCgpIHtcclxuICAgIC8vIOaYvuekuuaPkOekulxyXG4gICAgd3guc2hvd0xvYWRpbmcoeyB0aXRsZTogJ+WIneWni+WMluS4rScsIG1hc2s6IHRydWUgfSk7XHJcblxyXG4gICAgLy8g5riF6Zmk5paH5Lu257O757uf5paH5Lu25LiO5pWw5o2u5a2Y5YKoXHJcbiAgICAkZmlsZS5saXN0RmlsZSgnJykuZm9yRWFjaCgoZmlsZVBhdGg6IHN0cmluZykgPT4ge1xyXG4gICAgICAkZmlsZS5EZWxldGUoZmlsZVBhdGgpO1xyXG4gICAgfSk7XHJcbiAgICB3eC5jbGVhclN0b3JhZ2VTeW5jKCk7XHJcblxyXG4gICAgLy8g6ZqQ6JeP5o+Q56S6XHJcbiAgICB3eC5oaWRlTG9hZGluZygpO1xyXG4gICAgLy8g5o+Q56S655So5oi36YeN5ZCvXHJcbiAgICB3eC5zaG93TW9kYWwoeyB0aXRsZTogJ+Wwj+eoi+W6j+WIneWni+WMluWujOaIkCcsIGNvbnRlbnQ6ICfor7fljZXlh7sg4oCc6YCA5Ye65bCP56iL5bqP5oyJ6ZKu4oCdIOmAgOWHuuWwj+eoi+W6jycsIHNob3dDYW5jZWw6IGZhbHNlIH0pO1xyXG4gIH1cclxufSk7XHJcbiJdfQ==